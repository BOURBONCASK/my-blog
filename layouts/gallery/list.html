{{ define "main" }}
<article class="gallery-page">
  <header class="gallery-page__header">
    <h1>{{ .Title }}</h1>
    {{ with .Description }}<p class="gallery-page__description">{{ . }}</p>{{ end }}
  </header>
  <div class="masonry-gallery" data-gallery role="list">
    {{ range .Params.gallery }}
      {{- $src := .src | relURL -}}
      {{- $alt := .alt | default "" -}}
      {{- $caption := .caption | default "" -}}
      <figure class="gallery-item" role="listitem">
        <button
          type="button"
          class="gallery-item__button"
          data-src="{{ $src }}"
          data-alt="{{ $alt | html }}"
          data-caption="{{ $caption | html }}"
          aria-haspopup="dialog"
          aria-label="{{ with $alt }}{{ . | html }}{{ else }}放大查看{{ end }}"
        >
          <img loading="lazy" src="{{ $src }}" alt="{{ $alt }}" />
        </button>
        {{ with $caption }}<figcaption class="gallery-item__caption">{{ . }}</figcaption>{{ end }}
      </figure>
    {{ end }}
  </div>
</article>
<div class="gallery-lightbox" id="gallery-lightbox" hidden>
  <div class="gallery-lightbox__backdrop" role="presentation"></div>
  <figure class="gallery-lightbox__figure" role="dialog" aria-modal="true" aria-labelledby="gallery-lightbox-caption">
    <button type="button" class="gallery-lightbox__close" aria-label="关闭图像">&times;</button>
    <img class="gallery-lightbox__image" src="" alt="" />
    <figcaption class="gallery-lightbox__caption" id="gallery-lightbox-caption"></figcaption>
  </figure>
</div>
{{ end }}
