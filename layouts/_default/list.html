{{ define "main" }}
  <section class="page-intro">
    {{ if .IsSection }}
      <span class="highlight-pill">{{ if eq .Section "posts" }}Latest Notes{{ else }}{{ .Title }}{{ end }}</span>
    {{ end }}
    <h1>{{ .Title }}</h1>
    {{ with .Params.description }}
      <p>{{ . }}</p>
    {{ else }}
      {{ if .IsSection }}
        <p>{{ .Summary | default "持续记录对工程工具链和具身智能的观察。" }}</p>
      {{ end }}
    {{ end }}
  </section>
  {{ $paginator := .Paginate (.Pages.ByDate.Reverse) }}
  {{ if $paginator.Pages }}
    <section class="page-content post-list">
      {{ range $paginator.Pages }}
        <article class="card card--compact">
          <div class="post-card">
            <div class="post-card__meta">
              <span>{{ .Date.Format "2006.01.02" }}</span>
              {{ with .ReadingTime }}<span>约 {{ . }} 分钟阅读</span>{{ end }}
            </div>
            <h2 class="post-card__title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
            {{ with .Params.summary }}
              <p class="post-card__excerpt">{{ . }}</p>
            {{ else }}
              {{ with .Summary }}<p class="post-card__excerpt">{{ . }}</p>{{ end }}
            {{ end }}
          </div>
        </article>
      {{ end }}
    </section>
    {{ if gt $paginator.TotalPages 1 }}
      <nav class="pagination" aria-label="Pagination">
        {{ if $paginator.HasPrev }}
          <a href="{{ $paginator.Prev.URL }}">上一页</a>
        {{ else }}
          <span></span>
        {{ end }}
        {{ if $paginator.HasNext }}
          <a href="{{ $paginator.Next.URL }}">下一页</a>
        {{ else }}
          <span></span>
        {{ end }}
      </nav>
    {{ end }}
  {{ else }}
    <p>稍后会补充更多内容。</p>
  {{ end }}
{{ end }}
